import{r,C as m,f as x,y as h,u as g,b,j as e}from"./index-DdubsRfB.js";import{H as y,a as w}from"./index.esm-CpHPOVxb.js";function v(){let{paymentOnline:o,setCartId:n,paymentCash:c}=r.useContext(m),[u,i]=r.useState(!1),{id:d}=x(),{state:s}=h(),p=g();r.useEffect(()=>{n(d)},[]);const t=b({initialValues:{details:"",phone:"",city:""},onSubmit:f});async function f(l){i(!0);let a;s.type=="cash"?(a=await c(l),a.data.status=="success"&&p("/allorders")):(a=await o(l),a.data.status=="success"&&(window.location.href=a.data.session.url))}return e.jsxs(y,{children:[e.jsx("h1",{className:"text-3xl mb-3 text-center font-bold text-green-600",children:"Checkout"}),e.jsxs("h2",{className:"text-xl mb-3 capitalize text-center font-bold text-green-600",children:["Payment ",s.type]}),e.jsxs("form",{onSubmit:t.handleSubmit,className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"relative z-0 w-full mb-4 group",children:[e.jsx("input",{type:"text",name:"details",id:"floating_details",value:t.values.details,onChange:t.handleChange,onBlur:t.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:border-gray-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer",placeholder:" "}),e.jsx("label",{htmlFor:"floating_details",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transhtmlForm -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-green-600 peer-focus:dark:text-green-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Address"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-4 group",children:[e.jsx("input",{type:"tel",name:"phone",id:"floating_phone",value:t.values.phone,onChange:t.handleChange,onBlur:t.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:border-gray-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer",placeholder:" "}),e.jsx("label",{htmlFor:"floating_phone",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transhtmlForm -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-green-600 peer-focus:dark:text-green-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Phone"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-4 group",children:[e.jsx("input",{type:"text",name:"city",id:"floating_city",value:t.values.city,onChange:t.handleChange,onBlur:t.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:border-gray-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer",placeholder:" "}),e.jsx("label",{htmlFor:"floating_city",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transhtmlForm -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-green-600 peer-focus:dark:text-green-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"City"})]}),e.jsx("button",{type:"submit",className:"text-white bg-green-700 hover:bg-green-800 focus:outline-none font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:u?e.jsx("i",{className:"fas fa-spin fa-spinner"}):"Pay Now"})]}),e.jsx(w,{children:e.jsx("title",{children:"Checkout"})})]})}export{v as default};
